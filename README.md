# EcoNewsBot

Бот для агрегации и суммаризации экономических новостей из различных Telegram-каналов через веб-парсинг.

## Функциональность

- Сбор новостей из указанных Telegram-каналов через их веб-версии
- Автоматическая суммаризация новостей
- Умное удаление дубликатов и похожих новостей
- Публикация дайджеста с заданной периодичностью
- Настройка количества новостей в дайджесте
- Различные стили форматирования дайджеста
- Анализ и прогноз экономических тенденций
- Группировка связанных новостей из разных источников

## Преимущества

- Не требует Telegram API ID и API Hash
- Не требует авторизации в Telegram (работает только с публичными каналами)
- Простая настройка и использование
- Удобный интерфейс с кнопками для основных функций

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd <repository-name>
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example` и заполните необходимые данные:
- TELEGRAM_BOT_TOKEN - токен вашего бота (получить у @BotFather)

## Использование

1. Запустите бота:
```bash
python bot.py
```

2. Добавьте бота в нужный чат или канал

3. Используйте команды:
- `/start` - начать работу с ботом
- `/help` - показать список команд
- `/add_source [username_канала]` - добавить источник новостей
- `/remove_source [username_канала]` - удалить источник новостей
- `/set_frequency [часы]` - установить частоту публикации
- `/set_count [число]` - установить количество новостей в дайджесте
- `/set_style [стиль]` - установить стиль дайджеста (standard, business, concise)
- `/toggle_analysis` - включить/выключить раздел с анализом трендов
- `/generate` - сгенерировать дайджест вручную
- `/list_sources` - показать список источников новостей
- `/publish_to_channel [ID канала/чата]` - опубликовать дайджест в указанный канал

## Стили дайджеста

Бот поддерживает три стиля форматирования дайджеста:

1. **standard** - классический формат с нумерованным списком новостей
2. **business** - бизнес-ориентированный формат с оценкой влияния новостей
3. **concise** - краткий формат для быстрого ознакомления с ключевыми новостями

## Особенности работы

1. Бот парсит публичные каналы через веб-версию Telegram
2. Для каждого канала бот использует формат URL: `https://t.me/s/имя_канала`
3. Бот собирает сообщения, опубликованные за указанный период времени
4. Умный алгоритм удаления дубликатов находит не только идентичные, но и похожие новости
5. Анализ экономических тенденций формируется на основе собранных новостей
6. Бот группирует связанные новости из разных источников для удобства пользователя

## Пример использования

1. Добавьте бота в канал
2. Добавьте источники новостей:
```
/add_source economics_news
/add_source financial_analytics
```
3. Установите стиль дайджеста:
```
/set_style business
```
4. Установите частоту публикации:
```
/set_frequency 24
```
5. Установите количество новостей:
```
/set_count 5
```
6. Сгенерируйте дайджест:
```
/generate
```
7. Или опубликуйте дайджест в свой канал:
```
/publish_to_channel @your_channel_name
```

## Требования

- Python 3.8+
- Публичный доступ к каналам, из которых будут собираться новости
- Библиотеки: python-telegram-bot, aiohttp, beautifulsoup4, pandas, python-dotenv, pytz

## Ограничения

- Работает только с публичными каналами Telegram
- Может быть ограничен политиками Telegram по предотвращению скрапинга
- Не собирает медиа-контент (только текст) 